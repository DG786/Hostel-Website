if (self.CavalryLogger) { CavalryLogger.start_js(["GYovo"]); }

__d('MessengerSettingsActions',['AsyncRequest','MessengerDispatcher','MessengerDesktopNotifications','MessengerDesktopNotificationPermissions','XMessengerDotComSettingsEditController','keyMirror'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({CHANGE_SETTINGS:null,CHANGE_DESKTOP_NOTIFS:null}),i={Types:h,changeSettings:function(j){new (c('AsyncRequest'))().setData({settings:j}).setURI(c('XMessengerDotComSettingsEditController').getURIBuilder().getURI()).send();c('MessengerDispatcher').dispatch({type:h.CHANGE_SETTINGS,newSettings:j});},changeDesktopNotifs:function(j,k){if(j&&!c('MessengerDesktopNotifications').isGranted()){c('MessengerDesktopNotifications').requestPermission(function(l){if(l!==c('MessengerDesktopNotificationPermissions').GRANTED){if(c('MessengerDesktopNotifications').checkPermission()===c('MessengerDesktopNotificationPermissions').DENIED)k&&k();return;}c('MessengerDispatcher').dispatch({type:h.CHANGE_DESKTOP_NOTIFS,desktopNotifsEnabled:j});});}else c('MessengerDispatcher').dispatch({type:h.CHANGE_DESKTOP_NOTIFS,desktopNotifsEnabled:j});}};f.exports=i;},null);