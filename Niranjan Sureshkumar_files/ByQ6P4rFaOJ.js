if (self.CavalryLogger) { CavalryLogger.start_js(["aYWDI"]); }

__d('EmojiStateStore',['EmojiActions','EmojiDispatcher','EmojiState','FluxStore'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('EmojiDispatcher'));this.$EmojiStateStore2=false;}j.prototype.getState=function(){var k=c('EmojiState').getMRUCategory();return {currentCategory:this.$EmojiStateStore4,emojiColor:this.$EmojiStateStore3,mruCategory:[k],threadID:this.$EmojiStateStore1,trayDataReady:this.$EmojiStateStore2};};j.prototype.__onDispatch=function(k){var l=c('EmojiActions').Types;switch(k.type){case l.GET_EMOJI_COLOR:c('EmojiState').getEmojiColor();break;case l.EMOJI_COLOR_READY:this.$EmojiStateStore3=k.color;break;case l.CHANGE_EMOJI_COLOR:c('EmojiState').changeEmojiColor(k.color);this.$EmojiStateStore3=k.color;break;case l.CHANGE_CURRENT_CATEGORY:this.$EmojiStateStore4=k.currentCategory;break;case l.UPDATE_TRAY_DATA:break;case l.TRAY_DATA_READY:this.$EmojiStateStore2=true;break;}this.__emitChange();};f.exports=new j();},null);
__d('ChatEmojiSkinTonePreferencePicker.react',['ChatEmojiPicker.react','MessengerEmojiConfig','React','SkinToneEmoji'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=128077;h=babelHelpers.inherits(l,c('React').PureComponent);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return m=(n=i.constructor).call.apply(n,[this].concat(p)),this.$ChatEmojiSkinTonePreferencePicker1=function(r){var s=c('SkinToneEmoji').getTone(r);this.props.onSelect&&this.props.onSelect(s);}.bind(this),m;}l.prototype.render=function(){var m=null;try{m=this.props.currentPreference?String.fromCodePoint.apply(String,c('SkinToneEmoji').applyTone([k],this.props.currentPreference)):String.fromCodePoint(k);}catch(n){m=String.fromCodePoint(k);}return c('React').createElement(c('ChatEmojiPicker.react'),{className:this.props.className,columns:this.props.columns,currentEmoji:m,emojiChoices:c('MessengerEmojiConfig').emoji_colors.map(function(o){return c('SkinToneEmoji').applyTone([k],o);}),onSelect:this.$ChatEmojiSkinTonePreferencePicker1});};l.propTypes={className:j.string,columns:j.number,currentPreference:j.number,onSelect:j.func};l.defaultProps={columns:6};f.exports=l;},null);
__d('ChatEmojiSettingsDialog.react',['cx','ChatEmojiSkinTonePreferencePicker.react','EmojiActions','EmojiStateStore','MessengerSpinner.react','ReactComponentWithPureRenderMixin','PureStoreBasedStateMixin','React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'ChatEmojiSettingsDialog',mixins:[c('ReactComponentWithPureRenderMixin'),c('PureStoreBasedStateMixin')(c('EmojiStateStore'))],statics:{calculateState:function(){var j=c('EmojiStateStore').getState();return {emojiSkinTonePref:j.emojiColor};}},getInitialState:function(){return {};},componentDidMount:function(){if(this.state.emojiSkinTonePref===undefined)c('EmojiActions').getEmojiColor();},render:function(){return (c('React').createElement('div',{className:"_s5o"},this._renderPrefPicker()));},_renderPrefPicker:function(){if(this.state.emojiSkinTonePref===undefined)return c('React').createElement(c('MessengerSpinner.react'),null);return (c('React').createElement(c('ChatEmojiSkinTonePreferencePicker.react'),{currentPreference:this.state.emojiSkinTonePref,onSelect:this._handleChooseEmojiTone}));},_handleChooseEmojiTone:function(j){if(j!==this.state.emojiSkinTonePref)c('EmojiActions').changeEmojiColor(j);}});f.exports=i;},null);