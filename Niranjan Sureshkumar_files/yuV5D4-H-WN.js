if (self.CavalryLogger) { CavalryLogger.start_js(["X637O"]); }

__d('MessengerDesktopNotifications',['Map','MessengerDesktopNotificationPermissions','Run','UserAgent'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=5000,i=new (c('Map'))();function j(){i.forEach(function(l,m,n){l.close&&l.close();});}var k={_closeTimer:null,isSupported:function(){return !!window.Notification;},checkPermission:function(){if(window.Notification)return window.Notification.permission;},hasDefaultSound:function(){return c('UserAgent').isBrowser('FireFox')&&c('UserAgent').isPlatform('Mac OS X');},isDenied:function(){return this.checkPermission()===c('MessengerDesktopNotificationPermissions').DENIED;},isGranted:function(){return this.checkPermission()===c('MessengerDesktopNotificationPermissions').GRANTED;},requestPermission:function(l){if(window.Notification)window.Notification.requestPermission(l);},showNotification:function(l){if(this.checkPermission()===c('MessengerDesktopNotificationPermissions').GRANTED){var m=window.Notification?new window.Notification(l.title,{body:l.body,icon:l.icon,tag:l.tag}):{};i.set(l.tag,m);m.onclick=l.onClick;m.onclose=function(){i['delete'](l.tag);};this._closeTimer=setTimeout(function(){m.close();},l.closeTime||h);return m;}else return null;}};c('Run').onUnload(j);f.exports=k;},null);