if (self.CavalryLogger) { CavalryLogger.start_js(["uYuUI"]); }

__d('NotificationJewelList.react',['cx','fbt','Animation','Event','LogicalGrid.react','NotificationListItem.react','NotificationListPropTypes','NotificationsTabConfig','NotificationsTabEnum','NotifTestIDs','React','ReactDOM','ScrollableArea.react','SignalsTab.react','SignalsTabGroup.react','Vector','XUISpinner.react','debounce','getObjectValues','isEmpty'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=160,k=530,l=40,m=64,n=430,o=c('React').createClass({displayName:'NotificationJewelList',propTypes:c('NotificationListPropTypes'),_isLoadingIndicatorVisible:function(){var p=this.refs.loading;if(!p)return false;var q=c('ReactDOM').findDOMNode(this.refs.scrollable),r=c('Vector').getElementDimensions(q).y;if(r===0)return false;var s=c('Vector').getElementPosition(q).y+r,t=c('Vector').getElementPosition(c('ReactDOM').findDOMNode(p)).y;t-=l;return t<s;},_calculateHeight:function(){var p=c('Vector').getViewportDimensions().y,q=Math.min(this.props.maxHeight||k,p-j);if(this.props.upsell)return Math.max(q-m,0);return q;},_keepOnLoading:function(){if(this.isMounted())this.props.afterScroll(this._isLoadingIndicatorVisible());},_renderItems:function(p){var q=void 0;if(!p){q=function(s){return s;};}else q=function(s){if(s.notif_tab===c('NotificationsTabEnum').CONVERSATIONS)return s;return null;};var r=c('getObjectValues')(this.props.notifs).filter(q).map(function(s){return s.alert_id;});return c('getObjectValues')(this.props.notifs).filter(q).map(function(s,t){var u=s.alert_id,v=this._getNotifRow(u,r);return (c('React').createElement(c('NotificationListItem.react'),babelHelpers['extends']({key:u,visible:!this.props.hiddenState[u],isRead:this.props.readState[u],rowIndex:t,negativeTracking:this.props.negativeTracking,shortenTimestamp:this.props.shortenTimestamp,onChevronShow:this.props.onChevronShow,onChevronHide:this.props.onChevronHide,paused:this.props.paused,parent:this,row:v},s)));}.bind(this));},componentDidMount:function(){var p=c('ReactDOM').findDOMNode(this.refs.scrollable);c('Event').listen(window,'resize',c('debounce')(function(){if(!c('isEmpty')(this.props.notifs))new (c('Animation'))(p).to('height',this._calculateHeight()+'px').duration(100).go();}.bind(this)));},componentDidUpdate:function(p){if(this.props.paused&&!p.paused)if(this.props.shouldScroll&&this.refs.scrollable)this.refs.scrollable.getArea().scrollToTop(false);setTimeout(this._keepOnLoading,0);},_getNotifRow:function(p,q){return q.indexOf(p);},render:function(){var p=this.props.notifs,q=null,r=null,s=n,t=null,u=c('React').createElement('ul',{'data-gt':this.props.tracking,'data-testid':c('NotifTestIDs').REACT_NOTIF_LIST});if(!c('isEmpty')(p)){q=c('React').createElement(c('LogicalGrid.react'),{component:u},this._renderItems());r=this._calculateHeight();}else if(!this.props.canFetchMore)q=c('React').createElement('div',{className:"_572e",'data-testid':c('NotifTestIDs').REACT_NOTIF_LIST},i._("No new notifications"));if(this.props.canFetchMore)t=c('React').createElement(c('XUISpinner.react'),{ref:'loading',className:"jewelLoading"});var v=null;if(this.props.upsell){var w=this.props.upsell.module;v=c('React').createElement(w,this.props.upsell.props);}var x="_50-t"+(this.props.showingChevron?' '+"_2iy1":''),y=c('React').createElement(c('ScrollableArea.react'),{ref:'scrollable',width:s,height:r,fade:true,persistent:true,onScroll:c('debounce')(this._keepOnLoading)},q,t);if(c('NotificationsTabConfig').in_gk_notifications_tab){var z=true,aa='';for(var ba in p)if(p[ba].notif_tab===c('NotificationsTabEnum').CONVERSATIONS)aa=c('React').createElement(c('LogicalGrid.react'),{component:u},this._renderItems(z));y=c('React').createElement(c('SignalsTabGroup.react'),null,c('React').createElement(c('SignalsTab.react'),{title:'All'},y),c('React').createElement(c('SignalsTab.react'),{title:'Conversations'},aa));}return (c('React').createElement('div',{className:x},y,v));}});f.exports=o;},null);